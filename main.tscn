[gd_scene load_steps=4 format=3 uid="uid://3fa6y5am1553"]

[ext_resource type="Script" path="res://main.gd" id="1_31dcs"]
[ext_resource type="Script" path="res://llama.gd" id="1_va7kq"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jxcje"]
bg_color = Color(0.223103, 0.223103, 0.223103, 1)

[node name="Main" type="Node"]
script = ExtResource("1_31dcs")

[node name="Llama" type="GDLlama" parent="."]
model_path = "models/Meta-Llama-3-8B-Instruct.Q5_K_M.gguf"
context_size = 2048
n_gpu_layer = 4
escape = true
n_predict = 512
script = ExtResource("1_va7kq")

[node name="Prompt" type="TextEdit" parent="."]
custom_minimum_size = Vector2(1000, 300)
offset_right = 8.0
offset_bottom = 8.0
theme_override_font_sizes/font_size = 32
text = "Godot engine is a"
placeholder_text = "Prompt"

[node name="GenerateButton" type="Button" parent="."]
offset_left = 1068.0
offset_top = 40.0
offset_right = 1297.0
offset_bottom = 135.0
theme_override_font_sizes/font_size = 32
text = "Generate"

[node name="GeneratedText" type="RichTextLabel" parent="."]
custom_minimum_size = Vector2(1600, 500)
offset_top = 400.0
offset_right = 1600.0
offset_bottom = 900.0
focus_mode = 2
theme_override_font_sizes/normal_font_size = 32
theme_override_styles/normal = SubResource("StyleBoxFlat_jxcje")
text = "Generated Text"
scroll_following = true
selection_enabled = true

[node name="StopGenerateButton" type="Button" parent="."]
offset_left = 1354.0
offset_top = 40.0
offset_right = 1583.0
offset_bottom = 135.0
theme_override_font_sizes/font_size = 32
text = "Stop
"

[connection signal="generate_text_updated" from="Llama" to="." method="_on_llama_generate_text_updated"]
[connection signal="pressed" from="GenerateButton" to="." method="_on_generate_button_pressed"]
[connection signal="pressed" from="StopGenerateButton" to="." method="_on_stop_generate_button_pressed"]
